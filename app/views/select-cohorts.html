{% set pagetitle ="Select Cohorts - Select and Invite" %}

{% extends 'layout.html' %}
{% block header %}
{% include 'foundations/header-signed-in-campaign.html' %}
{% endblock %}

{% set mainClasses = "nhsuk-main-wrapper--s" %}

{% block pageTitle %}
  {{ pagetitle }}
{% endblock %}


{% block outerContent %}
  {{ backLink({
    "href": "javascript:window.history.back()",
    "text": "Back",
    "classes": "nhsuk-u-margin-top-4 nhsuk-u-margin-bottom-0"
  }) }}
{% endblock %}

{% block content %}
  <div class="nhsuk-grid-row">
    <div class="nhsuk-grid-column-two-thirds">
      <h1 class="nhsuk-heading-xl">Select cohorts</h1>



{% set allCohortList = ["Covid 65+ Autumn Winter 2023","Covid 12+ Severely Immunosuppressed","Covid 5-11 Severely Immunosuppressed","Covid Under16 Asplenia","Covid Under16 Chronic Heart Conditions","Covid Under16 Chronic Kidney Liver Digestive","Covid Under 16 Chronic neurological Disease","Covid Under 16 Chronic respiratory Disease","Covid Under 16 Endocrine Disorders","Covid Under 16 Immunosuppression","Covid Under 16 Pregnancy","Covid Under 16 Serious Genetic Abnormalities","Covid 16+ Asplenia","Covid 16+ Chronic Heart and Vascular Disease","Covid 16+ Chronic Kidney Disease","Covid 16+ Chronic Liver Disease","Covid 16+ Chronic Neurological Disease","Covid 16+ Chronic Respiratory Disease","Covid 16+ Diabetes and Endocrine Disorders","Covid 16+ Immunosuppression","Covid 16+ Morbid Obesity","Covid 16+ Pregnant Women","Covid 16+ Severe Mental Illness","Flu 2-3 Autumn Winter 2023","Flu 4-16 Autumn Winter 2023","Flu 65+ Autumn Winter 2023","Flu Chronic Respiratory Disease","Flu Chronic Heart Disease","Flu Chronic Kidney Disease","Flu Chronic Liver Disease","Flu Chronic Neurological Disease","Flu Coded Eligibility","Flu Diabetes","Flu Immunosuppression","Flu Morbid Obesity","Covid Over 75 and Under 115 Years","Covid Carers of Immunosuppressed Patients","Covid Frontline Health and Social Care Workers","Covid 16-18 in Long-stay Nursing and Residential Care Settings","Flu Under 16 Household Contacts of Immunosuppressed"] %}


{% set covidCohortList = ["Covid 65+ Autumn Winter 2023","Covid 12+ Severely Immunosuppressed","Covid 5-11 Severely Immunosuppressed","Covid Under16 Asplenia","Covid Under16 Chronic Heart Conditions","Covid Under16 Chronic Kidney Liver Digestive","Covid Under 16 Chronic neurological Disease","Covid Under 16 Chronic respiratory Disease","Covid Under 16 Endocrine Disorders","Covid Under 16 Immunosuppression","Covid Under 16 Pregnancy","Covid Under 16 Serious Genetic Abnormalities","Covid 16+ Asplenia","Covid 16+ Chronic Heart and Vascular Disease","Covid 16+ Chronic Kidney Disease","Covid 16+ Chronic Liver Disease","Covid 16+ Chronic Neurological Disease","Covid 16+ Chronic Respiratory Disease","Covid 16+ Diabetes and Endocrine Disorders","Covid 16+ Immunosuppression","Covid 16+ Morbid Obesity","Covid 16+ Pregnant Women","Covid 16+ Severe Mental Illness"] %}

{% set fluCohortList = ["Flu 2-3 Autumn Winter 2023","Flu 4-16 Autumn Winter 2023","Flu 65+ Autumn Winter 2023","Flu Chronic Respiratory Disease","Flu Chronic Heart Disease","Flu Chronic Kidney Disease","Flu Chronic Liver Disease","Flu Chronic Neurological Disease","Flu Coded Eligibility","Flu Diabetes","Flu Immunosuppression","Flu Morbid Obesity"] %}

{% set under16CohortList = ["Covid 12+ Severely Immunosuppressed","Covid 5-11 Severely Immunosuppressed","Covid Under16 Asplenia","Covid Under16 Chronic Heart Conditions","Covid Under16 Chronic Kidney Liver Digestive","Covid Under 16 Chronic neurological Disease","Covid Under 16 Chronic respiratory Disease","Covid Under 16 Endocrine Disorders","Covid Under 16 Immunosuppression","Covid Under 16 Pregnancy","Covid Under 16 Serious Genetic Abnormalities"] %}
{% set immunoCohortList = ["Covid 12+ Severely Immunosuppressed","Covid 5-11 Severely Immunosuppressed","Covid Under 16 Immunosuppression","Covid 16+ Immunosuppression","Flu Immunosuppression"] %}

{% set newCohortList = [["Covid Over 75 and Under 115 Years","15 April 2024"],["Covid Carers of Immunosuppressed Patients","12 April 2024"],["Covid Frontline Health and Social Care Workers","3 April 2024"],["Covid 16-18 in Long-stay Nursing and Residential Care Settings","29 March 2024"],["Flu Under 16 Household Contacts of Immunosuppressed Patients","2 March 2024"]] %}

<form action="summary-cohorts?repickCohorts=false" method="post">


<h2 class="nhsuk-heading-l">Recently added cohorts [{{ newCohortList.length }}]</h2>

      {% for items,date in newCohortList %}

      {{ checkboxes({
          "idPrefix": "newCohorts",
          "name": "newCohorts",
          "fieldset": {
            "legend": {
              "text": "",
              "classes": "nhsuk-fieldset__legend--l",
              isPageHeading: false
            }
          },
          "items": [
            {
              "value": items,
              "text": items,
              "hint": {
                "text": date
              },
              checked: checked('newCohorts',items)
            }
          ]
        }) }}
        {% endfor %}




{% set allHTML %}


      {% for items in allCohortList %}

      {{ checkboxes({
          "idPrefix": "allCohorts",
          "name": "allCohorts",
          "fieldset": {
            "legend": {
              "text": "",
              "classes": "nhsuk-fieldset__legend--l",
              isPageHeading: false
            }
          },
          "items": [
            {
              "value": items,
              "text": items,
              checked: checked('allCohorts',items)
            }
          ]
        }) }}
        {% endfor %}

{% endset %}

{% set covidHTML %}


{% for items in covidCohortList %}

{{ checkboxes({
    "idPrefix": "covidCohorts",
    "name": "covidCohorts",
    "fieldset": {
      "legend": {
        "text": "",
        "classes": "nhsuk-fieldset__legend--l",
        isPageHeading: false
      }
    },
    "items": [
      {
        "value": items,
        "text": items,
        checked: checked('covidCohorts',items)
      }
    ]
  }) }}
  {% endfor %}

{% endset %}

{% set fluHTML %}


{% for items in fluCohortList %}

{{ checkboxes({
    "idPrefix": "fluCohorts",
    "name": "fluCohorts",
    "fieldset": {
      "legend": {
        "text": "",
        "classes": "nhsuk-fieldset__legend--l",
        isPageHeading: false
      }
    },
    "items": [
      {
        "value": items,
        "text": items,
        checked: checked('fluCohorts',items)
      }
    ]
  }) }}
  {% endfor %}

{% endset %}

{% set under16HTML %}


{% for items in under16CohortList %}

{{ checkboxes({
    "idPrefix": "under16Cohorts",
    "name": "under16Cohorts",
    "fieldset": {
      "legend": {
        "text": "",
        "classes": "nhsuk-fieldset__legend--l",
        isPageHeading: false
      }
    },
    "items": [
      {
        "value": items,
        "text": items,
        checked: checked('under16Cohorts',items)
      }
    ]
  }) }}
  {% endfor %}

{% endset %}

{% set immunoHTML %}

        {% for things in immunoCohortList %}

        {{ checkboxes({
            "idPrefix": "immunoCohorts",
            "name": "immunoCohorts",
            "fieldset": {
              "legend": {
                "text": "",
                "classes": "nhsuk-fieldset__legend--l",
                isPageHeading: false
              }
            },
            "items": [
              {
                "value": things,
                "text": things,
                checked: checked('immunoCohorts',things)
              }
            ]
          }) }}
          {% endfor %}
{% endset %}

  {% from 'details/macro.njk' import details %}

  {% if data['covidCohorts'].length > 0 %}
  {% set covidOpen = 'true' %}
  {% endif %}

  {% if data['under16Cohorts'].length > 0 %}
  {% set u16Open = 'true' %}
  {% endif %}

  {% if data['immunoCohorts'].length > 0 %}
  {% set immunoOpen = 'true' %}
  {% endif %}

  {% if data['fluCohorts'].length > 0 %}
  {% set fluOpen = 'true' %}
  {% endif %}


  {{ details({
    "classes": "nhsuk-expander",
    "open": covidOpen,
    "text": "Covid ["+covidCohortList.length+" cohorts]",
    "HTML": covidHTML
  }) }}

  {{ details({
    "classes": "nhsuk-expander",
    "open": u16Open,
    "text": "Under 16s ["+under16CohortList.length+" cohorts]",
    "HTML": under16HTML
  }) }}

  {{ details({
    "classes": "nhsuk-expander",
    "open": fluOpen,
    "text": "Flu ["+fluCohortList.length+" cohorts]",
    "HTML": fluHTML
  }) }}

  {% from 'details/macro.njk' import details %}

  {{ details({
    "classes": "nhsuk-expander",
    "open": immunoOpen,
    "text": "Immunosuppression ["+immunoCohortList.length+" cohorts]",
    "HTML": immunoHTML
  }) }}

  {{ details({
    "classes": "nhsuk-expander",
    "text": "All cohorts ["+allCohortList.length+"]",
    "HTML": allHTML
  }) }}

  {{ button({
    text: "Save and continue"
  }) }}


</form>

    </div>
  </div>

{% endblock %}
